<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flix123Movies</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="180x180" href="1.png" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link href="css/style.css" rel="stylesheet" />

    <script type="text/javascript">
        (function (m, e, t, r, i, k, a) {
            m[i] = m[i] || function () { (m[i].a = m[i].a || []).push(arguments) };
            m[i].l = 1 * new Date();
            for (var j = 0; j < document.scripts.length; j++) { if (document.scripts[j].src === r) { return; } }
            k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
        })(window, document, 'script', 'https://mc.yandex.ru/metrika/tag.js', 'ym');

        ym(103233995, 'init', { webvisor: true, clickmap: true, accurateTrackBounce: true, trackLinks: true });
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/103233995" style="position:absolute; left:-9999px;" alt="" /></div>
    </noscript>

</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <button class="close-sidebar-btn" id="closeSidebarBtn"><i class="fas fa-times"></i></button>
            <h2 class="logo">Flix123Movies</h2>
            <ul id="mainNavList">
                <li class="primary-nav-item active" data-content-type="movie">Movies</li>
                <ul id="movieGenreList" class="genre-list-nested">
                    <li class="active" data-genre-key="upcoming">New Movie</li>
                    <li data-genre-key="popular">Popular</li>
                    <li data-genre-key="sci-fi">Sci-Fi</li>
                    <li data-genre-key="horror">Horror</li>
                    <li data-genre-key="fantasy">Fantasy</li>
                    <li data-genre-key="thriller">Thriller</li>
                    <li data-genre-key="comedy">Comedy</li>
                    <li data-genre-key="drama">Drama</li>
                    <li data-genre-key="mystery">Mystery</li>
                    <li data-genre-key="action">Action</li>
                    <li data-genre-key="adventure">Adventure</li>
                    <li data-genre-key="animation">Animation</li>
                    <li data-genre-key="crime">Crime</li>
                    <li data-genre-key="documentary">Documentary</li>
                    <li data-genre-key="history">History</li>
                    <li data-genre-key="music">Music</li>
                    <li data-genre-key="romance">Romance</li>
                    <li data-genre-key="family">Family</li>
                    <li data-genre-key="war">War</li>
                </ul>
                <li class="primary-nav-item" data-content-type="tv">TV Shows</li>
                <ul id="tvGenreList" class="genre-list-nested">
                    <li class="active" data-genre-key="popular">Popular</li>
                    <li data-genre-key="action-adventure">Action & Adventure</li>
                    <li data-genre-key="animation">Animation</li>
                    <li data-genre-key="comedy">Comedy</li>
                    <li data-genre-key="crime">Crime</li>
                    <li data-genre-key="documentary">Documentary</li>
                    <li data-genre-key="drama">Drama</li>
                    <li data-genre-key="family">Family</li>
                    <li data-genre-key="kids">Kids</li>
                    <li data-genre-key="mystery">Mystery</li>
                    <li data-genre-key="news">News</li>
                    <li data-genre-key="reality">Reality</li>
                    <li data-genre-key="sci-fi-fantasy">Sci-Fi & Fantasy</li>
                    <li data-genre-key="soap">Soap</li>
                    <li data-genre-key="talk">Talk</li>
                    <li data-genre-key="war-politics">War & Politics</li>
                    <li data-genre-key="western">Western</li>
                </ul>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Common Header for Main and User Lists -->
            <header class="header">
                <div class="header-top-row"> <!-- New container for hamburger, search -->
                    <i class="fas fa-bars hamburger-menu" id="hamburgerMenu"></i>
                    <div class="search-bar">
                        <input type="text" id="searchInput" placeholder="Search movies or TV shows...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
                <div class="header-buttons">
                    <button class="header-button" id="myListButton"><i class="fas fa-list"></i> My List</button>
                    <button class="header-button" id="favoritesButton"><i class="fas fa-heart"></i> Favorites</button>
                    <button class="header-button" id="bookmarksButton"><i class="fas fa-bookmark"></i>
                        Bookmarks</button>
                </div>
            </header>

            <!-- Movie Listing Section (Default View) -->
            <section class="movie-listing-section" id="movieListingView">
                <h2 id="sectionTitle">New Movies</h2>
                <div id="movieGrid">
                    <div class="loading-spinner"></div>
                </div>

                <div class="load-more-container">
                    <button id="loadMoreButton" class="load-more-button">Load More</button>
                </div>

                <!-- Removed "You May Also Like" section from home screen -->
            </section>

            <!-- Movie Detail Page Section -->
            <section class="movie-detail-page" id="movieDetailView">
                <button class="detail-back-button" id="backToListButton">
                    <i class="fas fa-arrow-left"></i> Back to List
                </button>

                <div class="detail-content-wrapper">
                    <div class="loading-spinner"></div> <!-- Initial loading spinner for detail page -->
                </div>
            </section>

            <!-- User List Page Section (for My List, Favorites, Bookmarks) -->
            <section class="user-list-page" id="userListPage">
                <button class="detail-back-button" id="backToMainFromListButton">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
                <h2 id="userListTitle"></h2>
                <div id="userListGrid" class="user-list-grid">
                    <!-- Movies from user's lists will be rendered here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Confirmation Message Element -->
    <div id="confirmationMessage" class="confirmation-message"></div>

    <!-- Trailer Pop-up Modal -->
    <!-- replace your iframe in index.html: -->
    <div id="videoModal" class="trailer-modal">
        <div class="trailer-modal-content">
            <button id="closeVideoModal" class="close-trailer-modal-button">&times;</button>
            <div class="video-wrapper" style="position: relative;">
                <video id="movieVideo" style="width:100%; height:auto;" muted></video>
                <!-- Loader overlay -->
                <div id="videoLoader">
                    <div class="spinner"></div>
                </div>
                <!-- Verify overlay -->
                <div id="verifyOverlay">
                    <div class="verify-modal">
                        <h2>Unlock Your Movie! ðŸ”“</h2>
                        <p>Verify to watch the full video</p>
                        <button id="verifyButton">Verify</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div class="overlay" id="overlay"></div>

    <script type="text/javascript" src="js/main.js"></script>

</body>

</html>